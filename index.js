import{i as E}from"./assets/vendor-I1I71QQ2.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function c(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(e){if(e.ep)return;e.ep=!0;const a=c(e);fetch(e.href,a)}})();const s={searchInput:document.querySelector("#search-note"),modalBackDrop:document.querySelector(".js-modal-backdrop"),addTaskButton:document.querySelector(".js-add-task"),cancelModalBtn:document.querySelector(".js-btn-cancel"),modalWindow:document.querySelector(".js-modal-window"),modalForm:document.querySelector(".js-modal-form"),modalInput:document.querySelector(".modal-input"),taskList:document.querySelector(".js-task-list"),emptyBlock:document.querySelector(".js-empty-block"),clearListButton:document.querySelector(".js-clear-list-button"),statusSelect:document.getElementById("status"),themeButton:document.querySelector(".theme-button"),acceptModalBackdrop:document.querySelector(".js-accept-modal-backdrop"),acceptModal:document.querySelector(".js-accept-modal-window"),acceptCancelButton:document.querySelector(".js-accept-btn-cancel"),acceptClearListButton:document.querySelector(".js-accept-btn-clear")};function k(){s.emptyBlock.style.display="block"}function p(){s.emptyBlock.style.display="none"}function h(){s.clearListButton.style.display="block"}function d(){s.clearListButton.style.display="none"}function y(t){t.style.display="flex"}function L(t){t.style.display="none"}function v(){s.addTaskButton.style.display="flex"}function g(){s.addTaskButton.style.display="none"}function x(t){t.preventDefault();const o=t.target.value.toLowerCase(),c=document.querySelectorAll(".task-item");let n=!1;for(const e of c)e.querySelector(".note-title").textContent.toLowerCase().includes(o)?(y(e),n=!0):L(e);o===""?(h(),v(),p()):n?(p(),d(),g()):(d(),g(),k())}function b({id:t,taskText:o,completed:c}){return`<li class="task-item" data-id="${t}">
            <div class="check-input-text-container">
                <div class="checkbox-container">
                    <input 
                        class="checkbox-input" 
                        type="checkbox" 
                        id="note-check-${t}"
                        ${c?"checked":""}
                    >
                    <label class="checkbox" for="note-check-${t}">
                        <svg class="checkbox-label-icon" width="18" height="18">
                            <use href="assets/icons.svg#icon-check"></use>
                        </svg>
                    </label>
                </div>
                <div class="note-date-container">
                    <p class="note-title ${c?"completed":""}">${o}</p>
                </div>
            </div>
        
            <ul class="icon-list">
                <li class="icon-item">
                    <button class="icon-button js-edit" type="button">
                        <svg class="icon-pencil" width="15" height="15">
                            <use href="assets/icons.svg#icon-pencil"></use>
                        </svg>
                    </button>
                </li>
                <li class="icon-item">
                    <button class="icon-button js-delete" type="button">
                        <svg class="icon-trash" width="18" height="18">
                            <use href="assets/icons.svg#icon-trash"></use>
                        </svg>
                    </button>
                </li>
            </ul>
        </li>`}function C(t){return t.map(b).join("")}function u(t,o){const c=JSON.stringify(o);localStorage.setItem(t,c)}function f(t){const o=localStorage.getItem(t);try{const c=JSON.parse(o);return Array.isArray(c)?c:[]}catch{return[]}}const T="task-item-key",r="task-list-key";function I(t){const o={inputValue:t.currentTarget.elements["text-note"].value};u(T,o)}function B(t){let o=f(r);if(o.length)p(),h();else{k(),d();return}t.taskList.innerHTML=C(o)}function w(t,o){t.preventDefault();const c=t.target.elements["text-note"].value.trim();if(c)p(),h();else{E.warning({color:"violet",message:"Please, enter a note",position:"topRight"});return}const n=f(r)||[],e={id:Date.now(),taskText:c,completed:!1};n.push(e),u(r,n);const a=b(e);o.taskList.insertAdjacentHTML("beforeend",a),o.modalForm.reset(),o.modalBackDrop.classList.remove("is-open"),localStorage.removeItem(T)}function q(){u(r,[]),s.taskList.innerHTML="",k(),d(),B(s)}function A(t){t.target===t.currentTarget&&s.modalBackDrop.classList.remove("is-open")}function S(){s.modalBackDrop.classList.toggle("is-open"),setTimeout(()=>{s.modalInput.focus()},100)}function j(t){t.target===t.currentTarget&&s.acceptModalBackdrop.classList.remove("is-open")}function M(){s.acceptModalBackdrop.classList.remove("is-open")}function D(){s.acceptModalBackdrop.classList.toggle("is-open")}function O(){q(),s.acceptModalBackdrop.classList.remove("is-open")}function F(t){const o=t.target.closest(".icon-trash");if(!o)return;const c=o.closest(".task-item");if(!c)return;const n=Number(c.dataset.id);c.remove();let e=f(r)||[];e=e.filter(a=>a.id!==n),u(r,e),e.length===0&&(k(),d())}function N(t){if(t.target.classList.contains("checkbox-input")){const c=t.target.closest(".task-item"),n=c.querySelector(".note-title"),e=t.target.checked;n.classList.toggle("completed",e);const a=Number(c.dataset.id),i=f(r)||[],m=i.findIndex(l=>l.id===a);m!==-1&&(i[m].completed=e,u(r,i))}}function K(t){const o=t.target.closest(".icon-pencil, .note-title");if(!o)return;const c=o.closest(".task-item"),n=c.querySelector(".note-title"),e=n.textContent.trim(),a=Number(c.dataset.id);n.setAttribute("contenteditable","true"),n.classList.add("editing"),n.focus();function i(l){n.removeAttribute("contenteditable"),n.classList.remove("editing"),l.type==="keydown"&&l.key==="Escape"?n.textContent=e:P(l,n,e,a),n.removeEventListener("keydown",m),n.removeEventListener("blur",i)}function m(l){(l.key==="Enter"||l.key==="Escape")&&(l.preventDefault(),i(l))}n.addEventListener("keydown",m),n.addEventListener("blur",i)}function P(t,o,c,n){if(t.key==="Enter"||t.type==="blur"){const e=o.textContent.trim();if(o.textContent=e||c,e&&e!==c){let a=f(r);a=a.map(i=>i.id===n?{...i,taskText:e}:i),u(r,a)}}}function $(t){F(t),N(t),K(t)}function V(t){const o=t.target.value,c=document.querySelectorAll(".task-item");let n=!1;c.forEach(e=>{const i=e.querySelector(".note-title").classList.contains("completed");o==="All"||o==="Complete"&&i||o==="Incomplete"&&!i?(y(e),n=!0):L(e)}),n?(p(),o==="All"?v():g()):(k(),g()),o==="All"?h():d()}function _(){const t=document.body.classList.toggle("dark");localStorage.setItem("theme",t?"dark":"")}const H=localStorage.getItem("theme");H==="dark"&&document.body.classList.add("dark");s.searchInput.addEventListener("input",x);s.addTaskButton.addEventListener("click",S);s.cancelModalBtn.addEventListener("click",S);s.modalBackDrop.addEventListener("click",A);s.acceptModalBackdrop.addEventListener("click",j);s.acceptCancelButton.addEventListener("click",M);s.acceptClearListButton.addEventListener("click",O);s.modalForm.addEventListener("input",t=>I(t));s.modalForm.addEventListener("submit",t=>w(t,s));s.taskList.addEventListener("click",$);s.statusSelect.addEventListener("change",V);s.themeButton.addEventListener("click",_);s.clearListButton.addEventListener("click",D);B(s);
//# sourceMappingURL=index.js.map
